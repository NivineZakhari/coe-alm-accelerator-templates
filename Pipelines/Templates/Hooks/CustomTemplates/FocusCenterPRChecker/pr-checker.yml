parameters:
- name: checkduplicatecomponents
  type: string
  default: "false"
- name: checkduplicateconnectionreferences
  type: string
  default: "false"
- name: checklastupdatedprocessfield
  type: string
  default: "false"
- name: checkmissingconnectionreferences
  type: string
  default: "true"
- name: checkpublisher
  type: string
  default: "false"
- name: checksecurityroles
  type: string
  default: "true"
- name: checksolutionversion
  type: string
  default: "false"
- name: enablecommentstopullrequest
  type: string
  default: "false"
- name: exclusionlistpath
  type: string
  default: ".\DuplicatesComponentTool\ExclusionList.xml"
- name: flowauditingattribute
  type: string
  default: "<prefix_customattribute>"
- name: masterbranchname
  type: string
  default: "main"
- name: solutionpublisheroptionvalueprefix
  type: string  
- name: solutionpublisherprefix
  type: string  
- name: solutionpublisheruniquename
  type: string
- name: solutionsrepopath
  type: string
  default: "/<yourRelativeRepoPath>/"
steps:
- pwsh: |
    . "$env:POWERSHELLPATH/load-save-pipeline-parameters.ps1"
    Write-Host "Loading pipeline parameters from $(Agent.BuildDirectory)\build-pipeline-parameters.json"
    $parameters = Read-Pipeline-Parameters "$(Agent.BuildDirectory)\build-pipeline-parameters.json"

    '.\FocusCenterPRChecker.exe $(Build.SourcesDirectory)\$(RepoName)\$parameters.solutionName\SolutionPackage\ $(System.AccessToken) $(System.PullRequest.PullRequestId)'
  workingDirectory: 'Pipelines/Templates/Hooks/CustomTemplates/FocusCenterPRChecker'
  displayName: 'Run PR Checker'
  continueOnError: true